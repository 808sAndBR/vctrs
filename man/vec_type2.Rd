% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/type2.R
\name{vec_type2}
\alias{vec_type2}
\title{Find the common type for a pair of vector types}
\usage{
vec_type2(x, y)
}
\arguments{
\item{x, y}{Either vector types produced by \code{\link[=vec_type]{vec_type()}}, or actual vectors.}
}
\description{
\code{vec_type2()} finds the common type for a pair of vectors, or dies trying.
It forms the foundation of the vctrs type system, along with \code{\link[=vec_cast]{vec_cast()}}.
It should generally not be called by R users, but is important for R
developers.
}
\section{Lifecycle}{

This function is experimental, and we plan that implementation will change
substantially in the future. \code{vec_type()} does double-dispatch, but
currently with a combination of S3 and nested \code{if}-\code{else} blocks. In
the future we will provide an extensible implemntation.
}

\section{Coercion rules}{

vctrs thinks of the vector types as forming a partially ordered set, or
poset. Then finding the common type from a set of types is a matter of
finding the least-upper-bound; if the least-upper-bound does not exist,
there is no common type. This is the case for many pairs of 1d vectors.

The poset of the most important base vectors is shown below:
(where datetime stands for \code{POSIXt}, and date for \code{Date})

\figure{coerce.png}
}

\keyword{internal}
